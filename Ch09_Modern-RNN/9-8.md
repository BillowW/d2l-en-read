

<!--
 * @version:
 * @Author:  StevenJokes https://github.com/StevenJokes
 * @Date: 2020-07-29 21:50:57
 * @LastEditors:  StevenJokes https://github.com/StevenJokes
 * @LastEditTime: 2020-07-29 21:59:34
 * @Description:MT half
 * @TODO::
 * @Reference:http://preview.d2l.ai/d2l-en/master/chapter_recurrent-modern/beam-search.html
-->

# 束搜索

在第9.7节中，我们讨论了如何使用可变长度的输入和输出序列来训练编码器-解码器。在本节中，我们将介绍如何使用编码器-解码器来预测可变长度的序列。

在9.5节中，当准备训练数据集时，我们通常在每个句子之后附加一个特殊的符号“<eos>”来表示序列的结束。在下面的讨论中，我们将继续使用这个数学符号。为了便于讨论，我们假设解码器的输出是一个文本序列。设输出文本字典YY(包含特殊符号“<eos>”)的大小为|Y||Y|，输出序列的最大长度为T’。可能的输出序列总共有O(|Y|T ')O(|Y|T ')类型。这些输出序列中特殊符号" <eos> "之后的所有子序列都将被丢弃。此外，我们还将上下文向量表示为cc，它对输入的所有隐藏状态信息进行编码。



## 小结

* 预测变长序列的方法包括贪婪搜索、穷举搜索和波束搜索。
* 光束搜索利用灵活的光束大小在计算开销和搜索质量之间取得平衡。

## 练习

1. 我们能否将穷举搜索看作是具有特殊波束大小的波束搜索?为什么?
1. 在8.5节中，我们使用语言模型来生成句子。这个输出使用哪种类型的搜索?你能改进它吗?
