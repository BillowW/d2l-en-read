

<!--
 * @version:
 * @Author:  StevenJokes https://github.com/StevenJokes
 * @Date: 2020-07-03 18:46:26
 * @LastEditors:  StevenJokes https://github.com/StevenJokes
 * @LastEditTime: 2020-07-03 18:53:33
 * @Description:
 * @TODO::
 * @Reference:http://preview.d2l.ai/d2l-en/PR-1102/chapter_optimization/lr-scheduler.html
-->

# 把学习率列入程序



到目前为止，我们主要关注如何更新权向量的优化算法，而不是它们被更新的速度。尽管如此，调整学习率通常和实际算法一样重要。有许多方面需要考虑

- 最明显的是，学习率的重要性。如果它太大，优化发散，如果它太小，训练时间太长或者我们最终得到一个次优的结果。我们在前面看到，问题的条件号很重要(详见11.6节)。直观上，它是最不灵敏方向与最灵敏方向的变化量之比。
- 其次，衰变速率也同样重要。如果学习率仍然很大，我们可能会简单地在最小值附近跳跃，从而无法达到最优。第11.5节对此进行了详细讨论，并在第11.4节中分析了性能保证。简而言之，我们希望衰减速率，但可能比O(t12)O(t12)要慢，这对于凸问题来说是个不错的选择。
- 另一个同样重要的方面是初始化。这既与参数最初如何设置有关(详细信息请参阅4.8节)，也与它们最初如何发展有关。这被称为预热，也就是。，我们一开始走向解决方案的速度有多快。开始时的大步骤可能没有好处，特别是因为初始参数集是随机的。最初的更新指南也可能毫无意义。
- 最后，还有一些执行周期性学习率调整的优化变量。这超出了本章的范围。我们建议读者查阅[Izmailov等人，2018](http://preview.d2l.ai/d2l-en/PR-1102/chapter_references/zreferences.html#izmailov-podoprikhin-garipov-ea-2018)中的细节，例如，如何通过对整个路径的参数进行平均来获得更好的解决方案。

考虑到管理学习率需要很多细节，大多数深度学习框架都有自动处理这些问题的工具。在当前的章节中，我们将回顾不同的时间表对准确性的影响，也展示如何能通过一个学习率调度器有效地管理。


## 练习

1. 对于给定的固定学习率，尝试优化行为。 您可以通过这种方式获得的最佳模型是什么？
1. 如果更改学习率下降的指数，收敛会如何变化？ 使用PolyScheduler为您的实验提供方便。
1. 将余弦调度程序应用于大型计算机视觉问题，例如培训ImageNet。 相对于其他调度程序，它如何影响性能？
1. 预热应持续多长时间？
1. 您可以连接优化和抽样吗？ 首先使用[Welling＆Teh，2011]关于随机梯度Langevin动力学的结果。

